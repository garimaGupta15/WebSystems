{"id":"../node_modules/ra-core/esm/form/formMiddleware.js","dependencies":[{"name":"/Users/garimagupta/assignments-ggupta4/ReactTour/package.json","includedInParent":true,"mtime":1570853931303},{"name":"/Users/garimagupta/assignments-ggupta4/node_modules/ra-core/package.json","includedInParent":true,"mtime":1570843516278},{"name":"react-router-redux","loc":{"line":1,"column":32},"parent":"/Users/garimagupta/assignments-ggupta4/node_modules/ra-core/esm/form/formMiddleware.js","resolved":"/Users/garimagupta/assignments-ggupta4/node_modules/react-router-redux/es/index.js"},{"name":"redux-form","loc":{"line":2,"column":24},"parent":"/Users/garimagupta/assignments-ggupta4/node_modules/ra-core/esm/form/formMiddleware.js","resolved":"/Users/garimagupta/assignments-ggupta4/node_modules/redux-form/es/index.js"},{"name":"lodash/isEqual","loc":{"line":3,"column":20},"parent":"/Users/garimagupta/assignments-ggupta4/node_modules/ra-core/esm/form/formMiddleware.js","resolved":"/Users/garimagupta/assignments-ggupta4/node_modules/lodash/isEqual.js"},{"name":"../actions/formActions","loc":{"line":4,"column":26},"parent":"/Users/garimagupta/assignments-ggupta4/node_modules/ra-core/esm/form/formMiddleware.js","resolved":"/Users/garimagupta/assignments-ggupta4/node_modules/ra-core/esm/actions/formActions.js"},{"name":"./constants","loc":{"line":5,"column":32},"parent":"/Users/garimagupta/assignments-ggupta4/node_modules/ra-core/esm/form/formMiddleware.js","resolved":"/Users/garimagupta/assignments-ggupta4/node_modules/ra-core/esm/form/constants.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _reactRouterRedux = require(\"react-router-redux\");\n\nvar _reduxForm = require(\"redux-form\");\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _formActions = require(\"../actions/formActions\");\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * This middleware ensure that whenever a location change happen, we get the\n * chance to properly reset the redux-form record form, preventing data to be\n * kept between different resources or form types (CREATE, EDIT).\n *\n * A middleware is needed instead of a saga because we need to control the actions\n * order: we need to ensure we reset the redux form BEFORE the location actually\n * changes. Otherwise, the new page which may contain a record redux-form might\n * initialize before our reset and loose its data.\n */\nvar formMiddleware = function () {\n  var previousLocation;\n  return function (next) {\n    return function (action) {\n      if (action.type !== _reactRouterRedux.LOCATION_CHANGE || action.payload.state && action.payload.state.skipFormReset) {\n        return next(action);\n      } // history allows one to redirect to the same location which can happen\n      // when using a special menu for a create page for instance. In this case,\n      // we don't want to reset the form.\n      // See https://github.com/marmelab/react-admin/issues/2291\n\n\n      if ((0, _isEqual.default)(action.payload, previousLocation)) {\n        return next(action);\n      }\n\n      previousLocation = action.payload;\n      next((0, _formActions.resetForm)());\n      next((0, _reduxForm.destroy)(_constants.REDUX_FORM_NAME));\n      return next(action);\n    };\n  };\n};\n\nvar _default = formMiddleware;\nexports.default = _default;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":2,"column":0}},{"generated":{"line":12,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":3,"column":0}},{"generated":{"line":14,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":4,"column":0}},{"generated":{"line":16,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":5,"column":0}},{"generated":{"line":20,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":6,"column":0}},{"generated":{"line":30,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":16,"column":0}},{"name":"formMiddleware","generated":{"line":30,"column":4},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":16,"column":4}},{"generated":{"line":30,"column":18},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":16,"column":18}},{"generated":{"line":30,"column":21},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":16,"column":21}},{"generated":{"line":30,"column":33},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":16,"column":33}},{"generated":{"line":31,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":17,"column":4}},{"name":"previousLocation","generated":{"line":31,"column":6},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":17,"column":8}},{"generated":{"line":31,"column":22},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":17,"column":4}},{"generated":{"line":32,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":4}},{"generated":{"line":32,"column":9},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":11}},{"name":"next","generated":{"line":32,"column":19},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":21}},{"generated":{"line":32,"column":23},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":11}},{"generated":{"line":32,"column":25},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":27}},{"generated":{"line":33,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":29}},{"generated":{"line":33,"column":11},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":36}},{"name":"action","generated":{"line":33,"column":21},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":46}},{"generated":{"line":33,"column":27},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":36}},{"generated":{"line":33,"column":29},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":54}},{"generated":{"line":34,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":19,"column":8}},{"name":"action","generated":{"line":34,"column":10},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":19,"column":12}},{"generated":{"line":34,"column":16},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":19,"column":18}},{"name":"type","generated":{"line":34,"column":17},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":19,"column":19}},{"generated":{"line":34,"column":21},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":19,"column":12}},{"name":"LOCATION_CHANGE","generated":{"line":34,"column":26},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":19,"column":28}},{"generated":{"line":34,"column":59},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":19,"column":12}},{"name":"action","generated":{"line":34,"column":63},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":13}},{"generated":{"line":34,"column":69},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":19}},{"name":"payload","generated":{"line":34,"column":70},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":20}},{"generated":{"line":34,"column":77},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":13}},{"name":"state","generated":{"line":34,"column":78},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":28}},{"generated":{"line":34,"column":83},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":13}},{"name":"action","generated":{"line":34,"column":87},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":37}},{"generated":{"line":34,"column":93},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":43}},{"name":"payload","generated":{"line":34,"column":94},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":44}},{"generated":{"line":34,"column":101},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":37}},{"name":"state","generated":{"line":34,"column":102},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":52}},{"generated":{"line":34,"column":107},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":37}},{"name":"skipFormReset","generated":{"line":34,"column":108},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":58}},{"generated":{"line":34,"column":121},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":19,"column":8}},{"generated":{"line":34,"column":123},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":20,"column":74}},{"generated":{"line":35,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":21,"column":12}},{"name":"next","generated":{"line":35,"column":15},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":21,"column":19}},{"generated":{"line":35,"column":19},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":21,"column":23}},{"name":"action","generated":{"line":35,"column":20},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":21,"column":24}},{"generated":{"line":35,"column":26},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":21,"column":23}},{"generated":{"line":35,"column":27},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":21,"column":12}},{"generated":{"line":36,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":22,"column":9}},{"generated":{"line":36,"column":7},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":54}},{"generated":{"line":36,"column":8},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":23,"column":8}},{"generated":{"line":37,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":24,"column":8}},{"generated":{"line":38,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":25,"column":8}},{"generated":{"line":39,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":26,"column":8}},{"generated":{"line":42,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":27,"column":8}},{"generated":{"line":42,"column":10},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":27,"column":12}},{"name":"action","generated":{"line":42,"column":32},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":27,"column":20}},{"generated":{"line":42,"column":38},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":27,"column":26}},{"name":"payload","generated":{"line":42,"column":39},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":27,"column":27}},{"generated":{"line":42,"column":46},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":27,"column":12}},{"name":"previousLocation","generated":{"line":42,"column":48},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":27,"column":36}},{"generated":{"line":42,"column":64},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":27,"column":12}},{"generated":{"line":42,"column":65},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":27,"column":8}},{"generated":{"line":42,"column":67},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":27,"column":55}},{"generated":{"line":43,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":28,"column":12}},{"name":"next","generated":{"line":43,"column":15},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":28,"column":19}},{"generated":{"line":43,"column":19},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":28,"column":23}},{"name":"action","generated":{"line":43,"column":20},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":28,"column":24}},{"generated":{"line":43,"column":26},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":28,"column":23}},{"generated":{"line":43,"column":27},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":28,"column":12}},{"generated":{"line":44,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":29,"column":9}},{"name":"previousLocation","generated":{"line":46,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":30,"column":8}},{"name":"previousLocation","generated":{"line":46,"column":6},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":30,"column":8}},{"generated":{"line":46,"column":22},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":30,"column":24}},{"name":"action","generated":{"line":46,"column":25},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":30,"column":27}},{"generated":{"line":46,"column":31},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":30,"column":33}},{"name":"payload","generated":{"line":46,"column":32},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":30,"column":34}},{"generated":{"line":46,"column":39},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":30,"column":8}},{"name":"next","generated":{"line":47,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":31,"column":8}},{"name":"next","generated":{"line":47,"column":6},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":31,"column":8}},{"generated":{"line":47,"column":10},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":31,"column":12}},{"generated":{"line":47,"column":11},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":31,"column":13}},{"generated":{"line":47,"column":40},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":31,"column":12}},{"generated":{"line":47,"column":41},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":31,"column":8}},{"name":"next","generated":{"line":48,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":32,"column":8}},{"name":"next","generated":{"line":48,"column":6},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":32,"column":8}},{"generated":{"line":48,"column":10},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":32,"column":12}},{"generated":{"line":48,"column":11},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":32,"column":13}},{"name":"REDUX_FORM_NAME","generated":{"line":48,"column":35},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":32,"column":21}},{"generated":{"line":48,"column":61},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":32,"column":13}},{"generated":{"line":48,"column":62},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":32,"column":12}},{"generated":{"line":48,"column":63},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":32,"column":8}},{"generated":{"line":49,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":33,"column":8}},{"name":"next","generated":{"line":49,"column":13},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":33,"column":15}},{"generated":{"line":49,"column":17},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":33,"column":19}},{"name":"action","generated":{"line":49,"column":18},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":33,"column":20}},{"generated":{"line":49,"column":24},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":33,"column":19}},{"generated":{"line":49,"column":25},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":33,"column":8}},{"generated":{"line":50,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":34,"column":5}},{"generated":{"line":50,"column":5},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":29}},{"generated":{"line":51,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":34,"column":8}},{"generated":{"line":51,"column":3},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":18,"column":4}},{"generated":{"line":52,"column":0},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":35,"column":1}},{"generated":{"line":52,"column":1},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":16,"column":0}},{"name":"formMiddleware","generated":{"line":54,"column":15},"source":"../node_modules/ra-core/esm/form/formMiddleware.js","original":{"line":36,"column":15}}],"sources":{"../node_modules/ra-core/esm/form/formMiddleware.js":"import { LOCATION_CHANGE } from 'react-router-redux';\nimport { destroy } from 'redux-form';\nimport isEqual from 'lodash/isEqual';\nimport { resetForm } from '../actions/formActions';\nimport { REDUX_FORM_NAME } from './constants';\n/**\n * This middleware ensure that whenever a location change happen, we get the\n * chance to properly reset the redux-form record form, preventing data to be\n * kept between different resources or form types (CREATE, EDIT).\n *\n * A middleware is needed instead of a saga because we need to control the actions\n * order: we need to ensure we reset the redux form BEFORE the location actually\n * changes. Otherwise, the new page which may contain a record redux-form might\n * initialize before our reset and loose its data.\n */\nvar formMiddleware = function () {\n    var previousLocation;\n    return function (next) { return function (action) {\n        if (action.type !== LOCATION_CHANGE ||\n            (action.payload.state && action.payload.state.skipFormReset)) {\n            return next(action);\n        }\n        // history allows one to redirect to the same location which can happen\n        // when using a special menu for a create page for instance. In this case,\n        // we don't want to reset the form.\n        // See https://github.com/marmelab/react-admin/issues/2291\n        if (isEqual(action.payload, previousLocation)) {\n            return next(action);\n        }\n        previousLocation = action.payload;\n        next(resetForm());\n        next(destroy(REDUX_FORM_NAME));\n        return next(action);\n    }; };\n};\nexport default formMiddleware;\n"},"lineCount":null}},"error":null,"hash":"cc4de8cd8afe25390f249b6ff8cb8501","cacheData":{"env":{}}}